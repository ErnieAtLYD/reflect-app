@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Font Families */
  --font-sans:
    var(--font-sans), ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-mono:
    var(--font-mono), ui-monospace, 'SFMono-Regular', 'Menlo', 'Monaco',
    'Consolas', 'Liberation Mono', 'Courier New', monospace;
  --font-display: var(--font-parkinsans), var(--font-sans);
  --font-heading: var(--font-parkinsans), var(--font-sans);
  --font-body: var(--font-sans);

  /* Typography Scale */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;
  --font-size-7xl: 4.5rem;
  --font-size-8xl: 6rem;
  --font-size-9xl: 8rem;

  /* Line Heights */
  --line-height-none: 1;
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  --line-height-loose: 2;

  /* Letter Spacing */
  --letter-spacing-tighter: -0.05em;
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0em;
  --letter-spacing-wide: 0.025em;
  --letter-spacing-wider: 0.05em;
  --letter-spacing-widest: 0.1em;

  /* Font Weights */
  --font-weight-thin: 100;
  --font-weight-extralight: 200;
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  --font-weight-black: 900;

  /* Border Radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@theme {
  /* Custom breakpoints for Reflect app */
  --breakpoint-xs: 30rem; /* 480px - Small mobile */
  --breakpoint-sm: 40rem; /* 640px - Mobile */
  --breakpoint-md: 48rem; /* 768px - Tablet */
  --breakpoint-lg: 64rem; /* 1024px - Desktop */
  --breakpoint-xl: 80rem; /* 1280px - Large desktop */
  --breakpoint-2xl: 96rem; /* 1536px - Extra large */

  /* Container utilities */
  --container-xs: 20rem;
  --container-sm: 24rem;
  --container-md: 28rem;
  --container-lg: 32rem;
  --container-xl: 36rem;
  --container-2xl: 42rem;

  /* Colors for Tailwind utilities - referencing existing variables */
  --color-background: light-dark(var(--background), var(--background));
  --color-foreground: light-dark(var(--foreground), var(--foreground));
  --color-card: light-dark(var(--card), var(--card));
  --color-card-foreground: light-dark(
    var(--card-foreground),
    var(--card-foreground)
  );
  --color-popover: light-dark(var(--popover), var(--popover));
  --color-popover-foreground: light-dark(
    var(--popover-foreground),
    var(--popover-foreground)
  );
  --color-primary: light-dark(var(--primary), var(--primary));
  --color-primary-foreground: light-dark(
    var(--primary-foreground),
    var(--primary-foreground)
  );
  --color-secondary: light-dark(var(--secondary), var(--secondary));
  --color-secondary-foreground: light-dark(
    var(--secondary-foreground),
    var(--secondary-foreground)
  );
  --color-muted: light-dark(var(--muted), var(--muted));
  --color-muted-foreground: light-dark(
    var(--muted-foreground),
    var(--muted-foreground)
  );
  --color-accent: light-dark(var(--accent), var(--accent));
  --color-accent-foreground: light-dark(
    var(--accent-foreground),
    var(--accent-foreground)
  );
  --color-destructive: light-dark(var(--destructive), var(--destructive));
  --color-destructive-foreground: light-dark(
    var(--destructive-foreground),
    var(--destructive-foreground)
  );
  --color-border: light-dark(var(--border), var(--border));
  --color-input: light-dark(var(--input), var(--input));
  --color-ring: light-dark(var(--ring), var(--ring));
}
:root {
  /* Your custom color palette */
  --color-lavender: #e8e9f3;
  --color-gray-light: #cecece;
  --color-gray-medium: #5a5a5c; /* Even further darkened for perfect WCAG 2.1 AA compliance */
  --color-dark-blue: #272635;
  --color-sky-blue: #b1e5f2;

  /* Design system variables */
  --radius: 0.625rem;

  /* Light theme */
  --background: var(--color-lavender); /* Soft lavender background */
  --foreground: var(--color-dark-blue); /* Dark blue text */
  --card: oklch(0.98 0.005 280); /* Very light lavender for cards */
  --card-foreground: var(--color-dark-blue); /* Dark blue text on cards */
  --popover: oklch(0.99 0.003 280); /* Nearly white with lavender hint */
  --popover-foreground: var(--color-dark-blue); /* Dark blue text */
  --primary: var(--color-dark-blue); /* Dark blue primary */
  --primary-foreground: oklch(0.95 0.01 280); /* Light lavender on dark blue */
  --secondary: var(--color-sky-blue); /* Sky blue secondary */
  --secondary-foreground: var(--color-dark-blue); /* Dark blue on sky blue */
  --muted: oklch(0.85 0.01 280); /* Muted lavender */
  --muted-foreground: var(--color-gray-medium); /* Gray medium text */
  --accent: var(--color-sky-blue); /* Sky blue accent */
  --accent-foreground: var(--color-dark-blue); /* Dark blue on sky blue */
  --border: var(--color-gray-light); /* Light gray borders */
  --input: oklch(0.99 0.003 280); /* Nearly white inputs */
  --ring: var(--color-sky-blue); /* Sky blue focus ring */

  /* Chart colors using your palette as base */
  --chart-1: var(--color-dark-blue); /* Dark blue */
  --chart-2: var(--color-sky-blue); /* Sky blue */
  --chart-3: var(--color-gray-medium); /* Gray medium */
  --chart-4: oklch(0.75 0.08 280); /* Lavender variant */
  --chart-5: oklch(0.55 0.15 220); /* Blue variant */

  /* Status colors for semantic UI states */
  --success: oklch(0.5 0.2 145); /* Even darker green for WCAG compliance */
  --success-foreground: oklch(0.98 0.01 145); /* Light text on success */
  --warning: oklch(0.75 0.15 85); /* Orange for warning states */
  --warning-foreground: oklch(0.2 0.02 85); /* Dark text on warning */
  --info: var(--color-sky-blue); /* Sky blue for info states */
  --info-foreground: var(--color-dark-blue); /* Dark text on info */
  --destructive: oklch(0.5 0.28 25); /* Even darker red for WCAG compliance */
  --destructive-foreground: oklch(0.98 0.01 25); /* Light text on red */

  /* Sidebar colors */
  --sidebar: oklch(0.96 0.008 280); /* Light lavender sidebar */
  --sidebar-foreground: var(--color-dark-blue); /* Dark blue text */
  --sidebar-primary: var(--color-dark-blue); /* Dark blue primary */
  --sidebar-primary-foreground: oklch(0.95 0.01 280); /* Light lavender text */
  --sidebar-accent: var(--color-sky-blue); /* Sky blue accent */
  --sidebar-accent-foreground: var(--color-dark-blue); /* Dark blue text */
  --sidebar-border: var(--color-gray-light); /* Light gray border */
  --sidebar-ring: var(--color-sky-blue); /* Sky blue focus ring */
}

.dark {
  /* Dark theme using your palette */
  --background: var(--color-dark-blue); /* Dark blue background */
  --foreground: var(--color-lavender); /* Lavender text */
  --card: oklch(0.25 0.02 255); /* Darker blue for cards */
  --card-foreground: var(--color-lavender); /* Lavender text on cards */
  --popover: oklch(0.22 0.02 255); /* Dark blue popover */
  --popover-foreground: var(--color-lavender); /* Lavender text */
  --primary: var(--color-sky-blue); /* Sky blue primary in dark */
  --primary-foreground: var(--color-dark-blue); /* Dark blue text on sky blue */
  --secondary: oklch(0.35 0.03 255); /* Muted blue secondary */
  --secondary-foreground: var(--color-lavender); /* Lavender text */
  --muted: oklch(0.3 0.02 255); /* Muted dark blue */
  --muted-foreground: var(--color-gray-light); /* Light gray text */
  --accent: var(--color-sky-blue); /* Sky blue accent */
  --accent-foreground: var(--color-dark-blue); /* Dark blue text */
  --destructive: oklch(0.65 0.22 25); /* Adjusted red for dark mode contrast */
  --destructive-foreground: oklch(
    0.15 0.02 25
  ); /* Dark text for better contrast */
  --border: oklch(0.4 0.03 255); /* Subtle blue border */
  --input: oklch(0.25 0.02 255); /* Dark blue input */
  --ring: var(--color-sky-blue); /* Sky blue focus ring */

  /* Dark chart colors */
  --chart-1: var(--color-sky-blue); /* Sky blue */
  --chart-2: var(--color-lavender); /* Lavender */
  --chart-3: var(--color-gray-light); /* Light gray */
  --chart-4: oklch(0.65 0.12 280); /* Bright lavender */
  --chart-5: oklch(0.75 0.15 200); /* Bright blue */

  /* Dark status colors */
  --success: oklch(0.7 0.18 145); /* Brighter green for dark mode */
  --success-foreground: oklch(0.15 0.02 145); /* Dark text on success */
  --warning: oklch(0.8 0.18 85); /* Brighter orange for dark mode */
  --warning-foreground: oklch(0.15 0.02 85); /* Dark text on warning */
  --info: var(--color-sky-blue); /* Sky blue for info states */
  --info-foreground: var(--color-dark-blue); /* Dark text on info */

  /* Dark sidebar colors */
  --sidebar: oklch(0.2 0.02 255); /* Dark blue sidebar */
  --sidebar-foreground: var(--color-lavender); /* Lavender text */
  --sidebar-primary: var(--color-sky-blue); /* Sky blue primary */
  --sidebar-primary-foreground: var(--color-dark-blue); /* Dark blue text */
  --sidebar-accent: oklch(0.3 0.02 255); /* Muted blue accent */
  --sidebar-accent-foreground: var(--color-lavender); /* Lavender text */
  --sidebar-border: oklch(0.4 0.03 255); /* Subtle border */
  --sidebar-ring: var(--color-sky-blue); /* Sky blue focus ring */
}

@layer base {
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Screen reader only class for accessibility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Reverse screen reader only - makes element visible when focused */
  .not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* High contrast mode support for WCAG compliance */
@media (prefers-contrast: high) {
  :root {
    /* Enhanced contrast for high contrast mode */
    --foreground: #000000;
    --background: #ffffff;
    --primary: #000000;
    --primary-foreground: #ffffff;
    --muted-foreground: #333333;
    --border: #000000;
    --ring: #000000;
    --destructive: #cc0000;
    --success: #006600;
    --warning: #cc6600;
  }

  .dark {
    --foreground: #ffffff;
    --background: #000000;
    --primary: #ffffff;
    --primary-foreground: #000000;
    --muted-foreground: #cccccc;
    --border: #ffffff;
    --ring: #ffffff;
    --destructive: #ff4444;
    --success: #44ff44;
    --warning: #ffaa44;
  }
}

/* Forced colors mode (Windows high contrast) */
@media (forced-colors: active) {
  * {
    forced-color-adjust: auto;
  }

  /* Preserve custom focus indicators */
  .focus\:ring-2 {
    forced-color-adjust: none;
    outline: 2px solid ButtonText;
  }

  /* Ensure skip links work in high contrast */
  .sr-only:focus {
    forced-color-adjust: none;
    background: ButtonFace !important;
    color: ButtonText !important;
    border: 2px solid ButtonText !important;
  }
}
